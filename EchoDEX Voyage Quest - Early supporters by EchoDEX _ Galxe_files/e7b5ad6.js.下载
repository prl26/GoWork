(window.webpackJsonp=window.webpackJsonp||[]).push([[958,173,184],{2987:function(e,n,t){"use strict";t.d(n,"a",(function(){return k})),t.d(n,"b",(function(){return j}));var r,o=t(1),c=(t(16),t(114),t(50),t(81),t(76),t(94),t(117),t(70),t(9)),l=t(2439),d=t(2503),m=t(2699),f=t(2608),x=t(178),C=t(71),v=t(2623),y=t(2659);!function(e){e[e.Default=0]="Default",e[e.Claim=1]="Claim",e[e.StakeIn=2]="StakeIn",e[e.StakeOut=3]="StakeOut",e[e.Forge=4]="Forge"}(r||(r={}));var h=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t,r){var o,c,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.b)();case 3:if(o=e.sent,c=n.$store.state.account,o){e.next=7;break}return e.abrupt("return");case 7:return m={input:{signature:"",campaignID:t.id,address:c,mintCount:r,chain:t.chain,captcha:{lotNumber:o.lot_number,captchaOutput:o.captcha_output,passToken:o.pass_token,genTime:o.gen_time}}},e.next=10,Object(d.k)(n,m.input);case 10:return(f=e.sent)&&f.disallowReason&&n.$errorPlain(f.disallowReason),e.abrupt("return",f);case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(n,t,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t,r){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.custom.canClaimCount>0)){e.next=3;break}return e.next=3,w(n,t);case 3:if(!(r.discordRole.canClaimCount>0)){e.next=6;break}return e.next=6,R(n,t);case 6:if(!(r.token.canClaimCount>0)){e.next=9;break}return e.next=9,D(n,t);case 9:if(!(r.point.canClaimCount>0&&t.type===c.n.Points)){e.next=12;break}return e.next=12,T(n,t,1);case 12:if(!(r.pointsBox.canClaimCount>0&&t.type===c.n.PointsMysteryBox)){e.next=15;break}return e.next=15,T(n,t,r.pointsBox.canClaimCount);case 15:if(o=t.gasType===c.o.Gasless,!(r.nft.canClaimCount>0)){e.next=24;break}if(!o){e.next=22;break}return e.next=20,$(n,t,r.nft.canClaimCount);case 20:e.next=24;break;case 22:return e.next=24,O(n,t,r.nft.canClaimCount);case 24:if(!(r.oat.canClaimCount>0)){e.next=36;break}if(!o){e.next=29;break}return e.next=28,j(n,t);case 28:o=!e.sent;case 29:if(!o){e.next=34;break}return e.next=32,$(n,t,r.oat.canClaimCount);case 32:e.next=36;break;case 34:return e.next=36,O(n,t,r.oat.canClaimCount);case 36:if(!(r.nftBox.canClaimCount>0)){e.next=44;break}if(!o){e.next=42;break}return e.next=40,$(n,t,r.nftBox.canClaimCount);case 40:e.next=44;break;case 42:return e.next=44,O(n,t,r.nftBox.canClaimCount);case 44:return l=function(e){return new Promise((function(n){return setTimeout(n,e)}))},e.next=47,l(2e3);case 47:n.$nuxt.$emit("refreshCampaignWithClaimData");case 48:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t){var r,o,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.rewardType,l=n.$store.getters.getUser,o!==c.H.Email||l.hasEmail){e.next=6;break}n.$nuxt.$emit("setParticipantDialog",{participantDialog:!0,participantsIDType:"email",participantsUrl:"/accountSetting?tab=Account"}),e.next=22;break;case 6:if(o!==c.H.Evm||l.address){e.next=10;break}n.$nuxt.$emit("setParticipantDialog",{participantDialog:!0,participantsIDType:"evm address",participantsUrl:"/accountSetting?tab=WalletAddress"}),e.next=22;break;case 10:if(o!==c.H.Solana||l.solanaAddress){e.next=14;break}n.$nuxt.$emit("setParticipantDialog",{participantDialog:!0,participantsIDType:"solana address",participantsUrl:"/accountSetting?tab=WalletAddress"}),e.next=22;break;case 14:if(o!==c.H.Aptos||l.aptosAddress){e.next=18;break}n.$nuxt.$emit("setParticipantDialog",{participantDialog:!0,participantsIDType:"aptos address",participantsUrl:"/accountSetting?tab=WalletAddress"}),e.next=22;break;case 18:return e.next=20,h(n,t,1);case 20:(d=e.sent)&&d.allow&&(l.hasEmail?n.$nuxt.$emit("rec-result",{status:"completed",trxId:null===(r=d.metaTxResp)||void 0===r?void 0:r.metaTxHash,operation:"claim",chain:t.chain,campaign:t}):n.$nuxt.$emit("email-dialog",!0));case 22:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.$store.getters.getUser.hasDiscord){e.next=4;break}throw n.$nuxt.$emit("setDiscordDialog",{discordDialog:!0,discordContent:"Please connect to your Discord first before claiming the role reward."}),new Error("Please connect to your Discord first.");case 4:return e.next=6,Object(d.i)(n,t.space.discordGuildID);case 6:if(!(data=e.sent)){e.next=14;break}if(!data.failReason){e.next=11;break}throw n.$nuxt.$emit("setDiscordDialog",{discordDialog:!0,discordContent:data.failReason}),new Error(data.failReason);case 11:if(!1!==data.isGuildMember){e.next=14;break}throw n.$nuxt.$emit("setDiscordDialog",{discordDialog:!0,discordContent:"Please join the Discord before claiming the role reward.",discordButton:"Join",discordButtonHandle:I}),new Error("Please join the Discord first.");case 14:return e.next=16,h(n,t,1);case 16:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t,r){var o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n,t,r);case 2:(l=e.sent)&&l.allow&&n.$nuxt.$emit("rec-result",{status:"completed",trxId:null===(o=l.metaTxResp)||void 0===o?void 0:o.metaTxHash,operation:"claim",chain:t.chain,campaign:t,claimedPoints:null===(c=l.loyaltyPointsTxResp)||void 0===c?void 0:c.TotalClaimedPoints});case 4:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t){var r,o,l,d,f,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.$store.state.account,d=n.$store.getters.currentChain,f=t.endTime&&(new Date).getTime()/1e3>=t.endTime,e.next=5,h(n,t,1);case 5:if(x=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(t.distributionType!==c.m.Fcfs&&!f){e.next=13;break}return e.next=11,Object(m.b)({_vue:n,chain:d,campaignStrID:t.id,_cid:t.numberID,_dummyId:x.tokenRewardCampaignTxResp?x.tokenRewardCampaignTxResp.verifyID:0,_expiredAt:x.tokenRewardCampaignTxResp?x.tokenRewardCampaignTxResp.signatureExpiredAt:0,_claimTo:l,_signature2:x.signature||"",contractAddress:(null===(r=t.tokenRewardContract)||void 0===r?void 0:r.address)||"",account:l,nonce:x.nonce,campaign:t,$store:n.$store});case 11:e.next=14;break;case 13:n.$nuxt.$emit("rec-result",{status:"completed",trxId:null===(o=x.metaTxResp)||void 0===o?void 0:o.metaTxHash,operation:"claim",chain:t.chain,campaign:t});case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),$=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t,r){var o,c,l,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n,t,r);case 2:if(l=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(!(null===(o=l.metaTxResp)||void 0===o?void 0:o.reqQueueing)){e.next=15;break}if(!(l&&l.allow&&l.mintFuncInfo)){e.next=13;break}if(d=2e3,m=l.mintFuncInfo.verifyIDs[0]){e.next=12;break}throw new Error("System server error.");case 12:setTimeout((function(){var e=t&&t.gamification.nfts.length>0&&t.gamification.nfts[0].nft.nftCore.chain;n.$nuxt.$emit("async-claiming",{verifyId:m,campaignName:t.name,campaignId:t.id,chain:e,campaignUrl:window.location.href,campaign:t}),n.$nuxt.$emit("refreshCampaignWithClaimData")}),d);case 13:return l.allow||n.$errorPlain(l.disallowReason||"server error"),e.abrupt("return");case 15:n.$nuxt.$emit("rec-result",{status:"completed",trxId:null===(c=l.metaTxResp)||void 0===c?void 0:c.metaTxHash,operation:"claim",chain:t.chain,campaign:t}),n.$nuxt.$emit("trx-sending",{operation:"claim",id:t.id});case 17:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t,o){var l,d,m,x,C,y,k,w,R,T,D,$,O,I,j,B,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n,t,o);case 2:if(l=e.sent,d=n.$store.state.account,m=n.$store.getters.currentChain,x=n.$store.getters.connectMethod,l){e.next=8;break}return e.abrupt("return");case 8:if(C=l.signature||"",y=l.mintFuncInfo?l.mintFuncInfo.verifyIDs:[],k=l.mintFuncInfo?l.mintFuncInfo.verifyIDs[0]:0,w=l.mintFuncInfo?l.mintFuncInfo.powahs:[],R=l.mintFuncInfo?l.mintFuncInfo.powahs[0]:0,T=l.mintFuncInfo?l.mintFuncInfo.nftCoreAddress:"",D=t.spaceStation?t.spaceStation.address:"",$=l.mintFuncInfo&&l.mintFuncInfo.cap||0,O=l.nonce,I=l.aptosTxResp?l.aptosTxResp.signatureExpiredAt:0,j=l.aptosTxResp?l.aptosTxResp.tokenName:"",t.chain!==c.c.Aptos&&t.chain!==c.c.AptosTestnet){e.next=24;break}return e.next=22,Object(f.d)(n,T,k,0,j,1,I,C,d,m,t.id,O,t,x);case 22:case 27:case 36:e.next=40;break;case 24:if(t.chain!==c.c.Sei){e.next=29;break}return e.next=27,Object(f.h)(n,t,k,$,d,C,m,O,T);case 29:return e.next=31,Object(f.c)(t.numberID,r.Claim,D,n.$store);case 31:if(B=e.sent,P=Object(v.c)(B.platformFee*Math.pow(10,-18),5),!(o>1)){e.next=38;break}return e.next=36,Object(f.j)(o,n,m,Number(P)*o,t.id,t.numberID,T,y,w,d,"",C,D,$,n.$store,O);case 38:return e.next=40,Object(f.l)(n,m,P,t.id,t.numberID,T,k,R,d,"",C,D,$,n.$store,O,t);case 40:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),I=function(e,n){var t;Object(C.a)(Object(x.b)((null===(t=n.rewardInfo.discordRole)||void 0===t?void 0:t.inviteLink)||""),"__blank"),e.$nuxt.$emit("setDiscordDialog",{discordDialog:!1})},j=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,t){var data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.e.includes(t.chain)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Object(d.a)(n,t);case 4:if((data=e.sent)&&data.space&&data.space.spaceBalance&&data.space.spaceBalance.sufficientForGaslessClaimOnChain||("Server error, can not get space balance, please try again later.",n.$errorPlain("Server error, can not get space balance, please try again later.")),!data){e.next=9;break}return r=data.space.spaceBalance.sufficientForGaslessClaimOnChain.find((function(e){return e.chain===t.chain})),e.abrupt("return",r&&!r.sufficient);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},3091:function(e,n){},3092:function(e,n){},3093:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r=function(link){return link.indexOf("opensea.io")>0?{icon:"https://storage.googleapis.com/opensea-static/Logomark/Logomark-Blue.svg",name:"OpenSea"}:link.indexOf("fangible.com")>0?{icon:"https://d257b89266utxb.cloudfront.net/galaxy/images/logo/Fangible.jpg",name:"fangible"}:link.indexOf("treasureland.market")>0?{icon:"https://d257b89266utxb.cloudfront.net/galaxy/images/logo/TL.png",name:"treasureland"}:link.indexOf("nftrade.com")>0?{icon:t(3134),name:"nftrade"}:{}}},3128:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r=["1","3","4","5","8","9","10","11","12","13","14","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","49","50","52","54","56","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","81","82","83","84","85","86","87","88","89","90","91","93","94","95","96","98","99","100","105","106","107","108","109","110","111","112","113","114","116","117","121","122","123","125","131","132","170","262"]},3170:function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return m}));t(50);var r=t(9),o=t(514),c=t(92),l=function(e,n){var l,d;switch(e.type){case r.n.Token:return Object(o.c)(e);case r.n.Bounty:return t(2732);case r.n.DiscordRole:return t(2905);case r.n.MysteryBox:case r.n.MysteryBoxWr:return"https://cdn.galxe.com/static/mystery-box.png";case r.n.PointsMysteryBox:return n?t(2814):"https://cdn.galxe.com/static/mystery-box.png";case r.n.Points:return t(2814);case r.n.Drop:return Object(c.l)(null===(d=null===(l=e.gamification.nfts[0])||void 0===l?void 0:l.nft)||void 0===d?void 0:d.image);default:return Object(c.l)(e.thumbnail)}},d=function(e){var n,l;switch(e.type){case r.n.Token:return Object(o.c)(e);case r.n.Bounty:return t(2941);case r.n.DiscordRole:return t(2942);case r.n.MysteryBox:case r.n.MysteryBoxWr:case r.n.PointsMysteryBox:return t(2943);case r.n.Points:return t(2944);case r.n.Drop:return Object(c.l)(null===(l=null===(n=e.gamification.nfts[0])||void 0===n?void 0:n.nft)||void 0===l?void 0:l.image);default:return Object(c.l)(e.thumbnail)}},m=function(e,n){var t,c,l;switch(e.type){case r.n.Token:return Object(o.g)(e.tokenReward.tokenAddress,e.tokenRewardContract?e.tokenRewardContract.chain:null,e.tokenReward.userTokenAmount);case r.n.Drop:return null===(c=null===(t=e.gamification.nfts[0])||void 0===t?void 0:t.nft)||void 0===c?void 0:c.name;case r.n.Points:return"".concat(e.loyaltyPoints," Points");case r.n.PointsMysteryBox:return n?"Points":"Points Mystery Box";case r.n.MysteryBox:return"Mystery Box";case r.n.Oat:return"OAT";case r.n.Bounty:return e.rewardName||"";case r.n.DiscordRole:return(null===(l=e.rewardInfo.discordRole)||void 0===l?void 0:l.roleName)||"";case r.n.Forge:return"Forge";default:return"Reward"}}},4043:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t(1),o=(t(70),t(1367),t(81),t(85),t(9),t(2559),t(195),t(2503)),c=t(2972),l=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n,t,r){var data,l,d,m,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.parentCampaign&&t.parentCampaign.id&&t.parentCampaign.isSequencial)){e.next=19;break}return e.next=3,Object(o.c)(n,t.parentCampaign.id,r);case 3:if(!(data=e.sent)||!data.campaign){e.next=16;break}if(l=data.campaign.childrenCampaigns,0!==(d=l.map((function(e){return e.id})).indexOf(t.id))){e.next=11;break}return e.abrupt("return",!1);case 11:for(m=!0,i=0;i<d;i++)m=m&&Object(c.a)(l,i);return e.abrupt("return",!m);case 14:e.next=17;break;case 16:case 19:return e.abrupt("return",!1);case 17:e.next=20;break;case 20:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()},4342:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));t(85),t(76),t(94);var r=t(9),o=t(195),c=t.n(o),l=function(e,n,t,o){var l=0,m=0;if(n.includes(e.type))if(m=e.whitelistInfo.usedCount,e.distributionType===r.m.Raffle){var x=f(e),C=c.a.get(e,"userParticipants.list[0].status");x?C===r.A.Success&&(m=1):m=0,l=e.whitelistInfo.maxCount}else l=c.a.sum(e.credentialGroups.map((function(e){var n;return c.a.sum(null===(n=e.rewards)||void 0===n?void 0:n.map((function(e){return e.rewardType===t?e.rewardCount:0})))})));return{maxCount:l,usedCount:m,canClaimCount:d(l,m,e,o),reachCap:e.cap>0&&e.cap<((null==o?void 0:o.numNFTMinted)||0)}},d=function(e,n,t,o){var c,l=0;return l=t.distributionType===r.m.Fcfs?(null==o?void 0:o.participants.participantsCount)||0:(null==o?void 0:o.numNFTMinted)||0,c=Math.max(t.cap-l,0),t.cap>0&&c<=0?0:-1===e?-1:e-n>0?t.cap>0&&c>=0?Math.min(c,e-n):e-n:0},m=function(e,n){console.log("returnClaimInfoObject");var t={nft:{maxCount:0,usedCount:0,canClaimCount:0},oat:{maxCount:0,usedCount:0,canClaimCount:0},nftBox:{maxCount:0,usedCount:0,canClaimCount:0},token:{maxCount:0,usedCount:0,canClaimCount:0},point:{maxCount:0,usedCount:0,canClaimCount:0},forge:{maxCount:0,usedCount:0,canClaimCount:0},custom:{maxCount:0,usedCount:0,canClaimCount:0},discordRole:{maxCount:0,usedCount:0,canClaimCount:0},pointsBox:{maxCount:0,usedCount:0,canClaimCount:0},gastype:r.o.Gas};return t.nft=function(e,n){var t=0,o=0;return e.type===r.n.Drop&&(o=e.whitelistInfo.usedCount,t=c.a.sum(e.credentialGroups.map((function(e){var n;return c.a.sum(null===(n=e.rewards)||void 0===n?void 0:n.map((function(e){return e.rewardType===r.j.Nft?e.rewardCount:0})))})))),{maxCount:t,usedCount:o,canClaimCount:d(t,o,e,n),reachCap:e.cap>0&&e.cap<((null==n?void 0:n.numNFTMinted)||0)}}(n,e),t.oat=l(n,[r.n.Oat],r.j.Oat,e),t.nftBox=l(n,[r.n.MysteryBox,r.n.MysteryBoxWr],r.j.Nft,e),t.token=function(e,n){var t=0,o=0;return e.type===r.n.Token&&(o=e.whitelistInfo.usedCount,e.distributionType===r.m.Raffle?(t=e.whitelistInfo.maxCount,o=f(e)&&1===t&&1===o?1:0):t=c.a.sum(e.credentialGroups.map((function(e){var n;return c.a.sum(null===(n=e.rewards)||void 0===n?void 0:n.map((function(e){return e.rewardType===r.j.Token?e.rewardCount:0})))})))),{maxCount:t,usedCount:o,canClaimCount:d(t,o,e,n),reachCap:e.cap>0&&e.cap<((null==n?void 0:n.numNFTMinted)||0)}}(n,e),t.point=function(e){var n=c.a.sum(e.credentialGroups.map((function(e){var n;return c.a.sum(null===(n=e.rewards)||void 0===n?void 0:n.map((function(e){return e.rewardType===r.j.Loyaltypoints?e.rewardCount:0})))}))),t=e.whitelistInfo.claimedLoyaltyPoints+(e.type===r.n.PointsMysteryBox?e.loyaltyPoints:0);return{maxCount:n,usedCount:t,canClaimCount:n-t}}(n),t.discordRole=l(n,[r.n.DiscordRole],r.j.Discordrole,e),t.custom=l(n,[r.n.Bounty],r.j.Custom,e),t.pointsBox=l(n,[r.n.PointsMysteryBox],r.j.Loyaltypointsmysterybox,e),t.gastype=n.gasType,t},f=function(e){var n=(new Date).getTime()/1e3;return!(!e||!e.endTime)&&n>=e.endTime}}}]);